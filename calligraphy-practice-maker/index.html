<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Calligraphy and Lettering Practice Sheet Generator</title>

    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/en/face/d-din" type="text/css" />

    <link rel="stylesheet" href="css/appPage.css">

    <!-- Include opentype.js -->
    <script src="jslibs/opentype.min.js"></script>

    <!-- jspdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- svg2pdf -->
    <script src="https://cdn.jsdelivr.net/npm/svg2pdf.js/dist/svg2pdf.min.js"></script>

</head>

<!--
This is a practice sheet maker for calligraphy
and letterforms.  It will in the future allow
importing external fonts.  For now there is
a small number of fonts available.
-->

<body>
    <div id="container">
        <!-- Configuration Area -->
        <div id="controls">
            <h1>Lettering Worksheet Maker</h1>




            <div id="outputButtons">

                <table style="margin:0;padding:0">
                    <tr>
                        <td> <button onclick="printPDF()" id="printButton" class="darkButton">Print</button>

                        </td>
                        <td width="100%">
                            <button onclick="downloadPDF()" id="saveWorksheetToPDFButton" class="darkButton">Download
                                PDF</button>

                            <!--<p style="display: block; width: 100%;text-align: right;">(To save file, choose "PDF" as
                                printer.)
                            </p>-->
                        </td>
                    </tr>

                </table>






                <!--
                <button id="downloadPdfButton" class="darkButton1 notWorksheetGenerating">Download As PDF</button>
            -->

            </div>

            <fieldset>
                <legend id="practiceCharactersLegend"> 
                    Practice Characters
                    <input type="checkbox" id="showFont" class="switchInput" style="float:right;margin-right:5pt;margin:0;margin-right:3pt" checked>
                    <div style="float: clear;"></div>
                </legend>

                <div class="fieldsetContents" id="practiceFontCharactersFieldsetContents">

                    <div class="settingEnclosure">

                        <label for="fontForWorksheetPages">Font:</label>

                        <select id="fontForWorksheetPages" name="fontForWorksheetPages">
                            <optgroup label="Fraktur">
                            <option value="BreitkopfFraktur" brushWidthOfFontNibMultiplier="4" ascenderRatio="0.45"
                                capHeightRatio="0.6" descenderDepthRatio="0.45" xHeightFontScaleFactor="0.95" fontURL="fonts/BreitkopfFraktur.ttf">
                                Breitkopf Fraktur </option>

                                <option value="KabinettFraktur" brushWidthOfFontNibMultiplier="4.7" ascenderRatio="0.45"
                                capHeightRatio="0.55" descenderDepthRatio="0.45" xHeightFontScaleFactor="1.2" fontURL="fonts/KabinettFraktur.ttf" selected>
                                Kabinett Fraktur</option>

                                <option value="DSLuthersche" brushWidthOfFontNibMultiplier="5.2" ascenderRatio="0.45"
                                capHeightRatio="0.60" descenderDepthRatio="0.4" xHeightFontScaleFactor="1.05" fontURL="fonts/DSLuthersche.ttf">
                                DSLuthersche</option>


                                </optgroup>

                                <optgroup label="Gothic Lettering">

                            <option value="OSIFont" brushWidthOfFontNibMultiplier="7.3"
                                fontURL="fonts/osifont-gpl2fe.ttf" ascenderRatio="0.4" capHeightRatio="0.45"
                                descenderDepthRatio="0.45" >OSIFont
                            </option>
                            </optgroup>



                            <!--<option value="Drafting" >Drafting Gothic</option>-->
                            <!--<option value="Blackletter">Blackletter</option>-->
                            <!--<option value="Uncial">Uncial</option>-->





                        </select>


                   
                    </div>



                    <div class="settingEnclosure indent">
                        <table width="100%" cellpadding="3" padding="0">
                            <tr>
                                <td valign="top"><button id="uploadFont" class="darkButton">Upload Font...</button>
                                    <input type="file" id="fontFileInput" accept=".ttf,.otf" style="display: none;">
                                    <span class="labelNote" style="margin-top:6pt;display: inline-block;">
                                        (.OTF or .TTF)
                                    </span>
                                </td>

                                <td><span style="color:white">or</span></td>
                                <td>

                                    <div id="dropArea">
                                        Drop font file here.
                                    </div>

                                </td>
                            </tr>
                        </table>

                    </div>

                    <div class="settingEnclosure indent indent2" style="background-color: #333;"
                        id="xHeightToNibWidthPropEnclosure">
                        <label for="xHeightToNibWidthProp">Scale X-Height-To-Nib:</label>
                        <input type="number" id="xHeightToNibWidthProp" value="0" min="-100" max="100" step="0.1">

                    </div>
   

                    <div class="settingEnclosure indent indent2" style="background-color: #333;"
                        id="xHeightFontScaleFactorEnclosure">
                        <label for="xHeightFontScaleFactor">Scale Font's X-Height:</label>
                        <input type="number" id="xHeightFontScaleFactor" value="1" min="-100" max="100" step="0.05">

                    </div>


                    <div class="settingEnclosure">
                        <label for="caseSelection">Characters:</label>
                        <select id="caseSelection" name="caseSelection">
                            <option value="lowercaseOnly" checked>Lowercase Only</option>
                            <option value="uppercaseOnly">Uppercase Only</option>
                            <option value="bothUppercaseAndLowercase">Both Lowercase and Uppercase</option>
                            <!--<option value="mixedCasePairs">Mixed Case Pairs</option>-->
                            <option value="customText">Custom Practice Text</option>

                        </select>
                      

                    </div>

                    <div class="settingEnclosure indent" id="includeNumberCharactersEnclosure">
                        <table>
                            <tr>
                                <td valign="top"><input type="checkbox" id="includeNumberCharacters"></td>
                                <td><label for="includeNumberCharacters">Include Number Characters</label></td>
                            </tr>
                        </table>


                    </div>

                    <div class="settingEnclosure indent" id="customPracticeTextEnclosure">
                        <label for="customPracticeText">Custom Practice Text:</label>
                        <textarea id="customPracticeText" name="customPracticeText" rows="5"
                            maxlength="450">custom text</textarea>
                    </div>


                    <!--
<select id="extraCharacterSets" name="extraCharactersSets">
    <option value="numbersOnly" checked>Numbers</option>
    <option value="number">Numbers and Punctuation</option>
</select>
-->

                    <div class="settingEnclosure indent">

                        <label for="practiceCharactersArrangement">Characters Arrangement:</label>

                        <select id="practiceCharactersArrangement" name="practiceCharactersArrangement">
                            <option value="RowsOfCharacters" checked>Rows of Characters</option>
                            <option value="singleCharacterAtLeft">Single Character At Left</option>

                            <!--<option value="CustomText">Custom Practice Text at Top</option>-->
                        </select>

                    </div>


                </div>
            </fieldset>


            <!-- NIB WIDTH AND GUIDE FIELDSET -->
            <fieldset>
                <legend>Nib Width and Guide</legend>

                <div class="settingEnclosure">

                    <!-- Nib Width Input -->
                    <label for="nibWidthMm">Nib Width:</label>
                    <input type="number" id="nibWidthMm" value="3.8" min="0.1" step="0.1"> <span
                        class="labelNote">mm</span>

                    <span class="class=" labelNote" id="nibWidthInPtDisplaySpan">
                        (<span id="nibWidthInPtDisplay">10 </span> <span>pt</span>)
                    </span>

                </div>

                <div class="settingEnclosure indent">

                    <!-- Show Nib Guideline Labels -->
                    <table>
                        <tr>
                            <td valign="top"><input type="checkbox" id="showNibGuidelineLabels" checked></td>
                            <td>
                                <label for="showNibGuidelineLabels">Show Nib Guideline Labels</label>
                            </td>
                        </tr>
                    </table>




                </div>

                <div class="settingEnclosure indent">

                    <!-- Show Nib Squares -->
                    
                    

                    <table>
                        <tr>
                            <td valign="top"><input type="checkbox" id="showNibSquares" checked></td>
                            <td>
                                <label for="showNibSquares">Show Nib Squares</label>
                            </td>
                        </tr>
                    </table>
                </div>



            </fieldset>

            <!-- x-height  Fieldset -->
            <fieldset>
                <!--  In calligraphy practice sheets, 
                  the xheight is determined by 
                  multiplying the nib width by a factor that makes it proportionate to the stroke of the script. 
                  -->
                <legend>x-height</legend>
                <div class="settingEnclosure">

                    <!-- x-height Input -->
                    <label for="nibWidthsTall">Nib Widths Tall:</label>
                    <input type="number" id="nibWidthsTall" value="4" min="0.1" step="0.1">
                    <span class="labelNote">
                        ×
                    </span>
                </div>

                <div class="settingEnclosure indent hiddenTemporary">
                    <!-- x-height Background Color Picker -->
                    <label for="xHeightColor">Background Color:</label>
                    <input type="color" id="xHeightColor" value="#f0f0f0">
                </div>
                <div class="settingEnclosure indent hiddenTemporary">
                    <!-- x-height Background Opacity -->
                    <label for="xHeightOpacity">Background Opacity (0-1):</label>
                    <input type="number" id="xHeightOpacity" value="0.4" min="0" max="1" step="0.1">
                </div>

                <div class="settingEnclosure indent">

                    <!-- Ascender Height Input -->
                    <label for="ascenderHeight">Ascender Height:</label><br>
                    <input type="number" id="ascenderHeight" value="0.5" min="0" step="0.1"> <span class="labelNote">×
                        x-height</span>
                </div>
                <div class="settingEnclosure indent">

                    <!-- Capital Height Input -->
                    <label for="capitalHeight">Capital Height:</label><br>
                    <input type="number" id="capitalHeight" value="0.4" min="0" step="0.1"> <span class="labelNote">×
                        x-height</span>
                </div>
                <div class="settingEnclosure indent">

                    <!-- Descender Depth Input -->
                    <label for="descenderDepth">Descender Depth:</label><br>
                    <input type="number" id="descenderDepth" value="0.6" min="0" step="0.1"> <span class="labelNote">×
                        x-height</span>
                </div>
            </fieldset>

            <!-- Slant Guides Fieldset -->
            <fieldset>
                <legend>Grid Lines</legend>
                <div class="settingEnclosure">

                    <!-- Include Slant Guides Checkbox -->
    
                    <table>
                        <tr>
                            <td valign="top"><input type="checkbox" name="verticalLines" id="verticalLines"></td>
                            <td><label for="verticalLines">Show Vertical Lines</label></td>
                        </tr>
                    </table>

                </div>

                <div class="settingEnclosure indent">

                    <!-- Slant Angle Input -->
                    <label for="verticalSlantAngle">Vertical Slant Angle:</label>
                    <!--<input type="range" id="verticalSlantAngleSlider" value="15" min="0" max="90" step="1"> °<br>-->
                    <input type="number" id="verticalSlantAngle" value="15" min="0" max="60" step="1"> °
                </div>

                <div class="settingEnclosure indent">

                    <!-- Slant Line Spacing -->
                    <label for="verticalLineSpacing">Vertical Line Spacing:</label><br />
                    <input type="number" id="verticalLineSpacing" value="2" min="0.1" max="20" step="0.1">
                    <span class="labelNote">× nib width</span>
                </div>
            </fieldset>


            <fieldset>
                <legend>Page</legend>


                <div class="settingEnclosure">

                    <label for="orientation">
                        Orientation:
                    </label> <br />

                    <input type="radio" name="orientation" id="orientationPortraitRadio" value="portrait" checked>

                    <label for="orientationPortraitRadio" class="radioLabel">
                        Portrait
                    </label>
&nbsp;
                    <input type="radio" name="orientation" id="orientationLandscapeRadio" value="landscape">
                    <label for="orientationLandscapeRadio" class="radioLabel">
                        Landscape
                    </label>

                </div>

                <div class="settingEnclosure">

                    <label for="paperSize">Paper Size: </label><br />
                    <select id="paperSize" name="paperSize">
                        <option value="612,792" checked>Letter (8.5in x 11in)</option>
                        <option value="612,1008">Legal (8.5in x 14in)</option>
                        <option value="595,842">A4 (210mm x 297mm)</option>
                        <option value="842,1191">A3 (297mm x 420mm)</option>
                    </select>
                </div>

            </fieldset>







            <!-- Generate Grid Button -->
            <!-- <button onclick="makeWorksheetPages()" id="generateWorksheet" >Generate Sheet</button>-->

            <p style="text-align: center;">
                <!-- <button onclick="makeWorksheetPages()" id="resetSettingsButton" class="darkButton">Reset Settings</button>-->
                <a id="emailLink" style="color:white;" href="mailto:calligraphy[-at-]noctivagous[-dot-]com">
                    Email </a>
            </p>
        </div>

        <div id="controlsScrollbar" class="scrollbar"></div>


        <div id="generatedWorksheetArea">
            <div class="worksheetAreaSpacer"></div>

            <div id="worksheetPagesContainer">

            </div>

            <div class="worksheetAreaSpacer"></div>

        </div>

        <div id="worksheetAreaScrollbar" class="scrollbar"></div>

    </div>

    <script src="js/settersAndGetters.js"></script>

    <script src="js/practiceSheetMaker.js"></script>
</body>

</html>